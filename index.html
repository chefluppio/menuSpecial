<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>menuSpecial</title>
<style>
  body {
    margin: 0;
    font-family: 'BBH Sans Hegarty', sans-serif;
    background-color: #f5f5f5;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  header {
    background-color: #002b5b;
    color: white;
    width: 100%;
    text-align: center;
    padding: 20px 0;
    font-size: 26px;
    font-weight: bold;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    width: 90%;
    margin-top: 20px;
  }

  .button {
    background: linear-gradient(145deg, #003366, #001a33);
    color: white;
    padding: 20px;
    border: none;
    border-radius: 20px;
    font-size: 20px;
    text-align: center;
    box-shadow: 3px 3px 8px rgba(0,0,0,0.5), -3px -3px 8px rgba(255,255,255,0.1);
    transition: transform 0.2s, box-shadow 0.2s;
  }

  .button:active {
    transform: scale(0.95);
    box-shadow: inset 3px 3px 8px rgba(0,0,0,0.6);
  }

  #tableNumberContainer {
    margin-top: 25px;
    text-align: center;
  }

  #tableNumber {
    font-size: 24px;
    width: 80%;
    padding: 10px;
    border: 2px solid #002b5b;
    border-radius: 10px;
    text-align: center;
  }

  #orderList {
    margin-top: 25px;
    width: 90%;
    background: #ffffff;
    border-radius: 15px;
    padding: 10px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  }

  #orderList h3 {
    text-align: center;
    color: #002b5b;
  }

  .order-item {
    display: flex;
    justify-content: space-between;
    margin: 5px 0;
  }

  #sendOrder {
    margin-top: 25px;
    background-color: #002b5b;
    color: white;
    border: none;
    padding: 15px 30px;
    border-radius: 15px;
    font-size: 18px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  }

  #sendOrder:active {
    background-color: #001a33;
  }
</style>
</head>
<body>

<header>menuSpecial</header>

<div class="grid" id="buttonGrid">
  <button class="button">Penne al sugo</button>
  <button class="button">Penne Zola e noci</button>
  <button class="button">Penne allâ€™arrabbiata</button>
  <button class="button">Linguine alle vongole</button>
  <button class="button">Linguine ai frutti di mare</button>
  <button class="button">Tagliata al rosmarino</button>
  <button class="button">Tagliata al pepe verde</button>
  <button class="button">Grigliata mista</button>
  <button class="button">Patatine</button>
  <button class="button">Anelli di cipolla</button>
  <button class="button">Olive ascolane</button>
  <button class="button">Cotoletta baby con patate</button>
  <button class="button">Hamburger baby con patate</button>
  <button class="button">Hamburger con scamorza</button>
  <button class="button">Hamburger con verdure o patate</button>
</div>

<div id="tableNumberContainer">
  <label for="tableNumber">Numero Tavolo:</label><br>
  <input type="number" id="tableNumber" placeholder="Inserisci numero tavolo">
</div>

<div id="orderList">
  <h3>Comanda</h3>
  <div id="orders"></div>
</div>

<button id="sendOrder">Invia Ordine</button>

<script>
  const buttons = document.querySelectorAll('.button');
  const ordersDiv = document.getElementById('orders');
  const tableInput = document.getElementById('tableNumber');
  const sendButton = document.getElementById('sendOrder');
  let orders = [];

  buttons.forEach(button => {
    button.addEventListener('click', () => {
      const existingOrder = orders.find(o => o.name === button.textContent);
      if (existingOrder) {
        existingOrder.qty++;
      } else {
        orders.push({ name: button.textContent, qty: 1 });
      }
      renderOrders();
    });

    button.addEventListener('contextmenu', (e) => {
      e.preventDefault();
      const newName = prompt("Modifica nome del piatto:", button.textContent);
      if (newName) button.textContent = newName;
    });
  });

  function renderOrders() {
    ordersDiv.innerHTML = '';
    orders.forEach((o, index) => {
      const div = document.createElement('div');
      div.className = 'order-item';
      div.innerHTML = `
        ${o.name} x${o.qty}
        <div>
          <button onclick="decrease(${index})">-</button>
          <button onclick="increase(${index})">+</button>
          <button onclick="removeOrder(${index})">x</button>
        </div>
      `;
      ordersDiv.appendChild(div);
    });
  }

  function decrease(i) {
    if (orders[i].qty > 1) {
      orders[i].qty--;
    } else {
      orders.splice(i, 1);
    }
    renderOrders();
  }

  function increase(i) {
    orders[i].qty++;
    renderOrders();
  }

  function removeOrder(i) {
    orders.splice(i, 1);
    renderOrders();
  }

  sendButton.addEventListener('click', () => {
    const tableNumber = tableInput.value.trim();
    if (!tableNumber) {
      alert("Inserisci il numero del tavolo prima di inviare l'ordine!");
      return;
    }
    if (orders.length === 0) {
      alert("Nessun piatto selezionato!");
      return;
    }

    const orderText = orders.map(o => `${o.name} x${o.qty}`).join('\n');
    const message = `Ordine tavolo ${tableNumber}:\n${orderText}`;
    const phoneNumber = '3491167434';
    const whatsappURL = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
    window.open(whatsappURL, '_blank');
  });
</script>

</body>
</html>
