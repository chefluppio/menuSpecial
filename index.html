<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
  <title>menuSpecial</title>
  <link href="https://fonts.googleapis.com/css2?family=BBH+Sans+Hegarty&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'BBH Sans Hegarty', Arial, sans-serif;
      background-color: #f5f5f5;
      color: #222;
    }
    header {
      background-color: #001f3f;
      color: white;
      text-align: center;
      padding: 32px 0;
      font-size: 2em;
      letter-spacing: 1px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
      border-bottom-left-radius: 20px;
      border-bottom-right-radius: 20px;
    }
    main {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      padding: 12px;
    }
    .btn {
      background: linear-gradient(145deg, #001f3f, #003366);
      color: white;
      padding: 20px;
      text-align: center;
      border-radius: 16px;
      box-shadow: 0 8px 15px rgba(0,0,0,0.3), inset 0 2px 5px rgba(255,255,255,0.1);
      font-size: 0.9em;
      cursor: pointer;
      transition: all 0.2s ease-in-out;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      white-space: normal;
      height: 100px;
      user-select: none;
    }
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.4), inset 0 2px 5px rgba(255,255,255,0.2);
    }
    .table-number-container {
      margin: 20px 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .table-number-container label {
      font-size: 1.2em;
      margin-bottom: 8px;
      color: #001f3f;
      font-weight: bold;
    }
    .table-number-container input {
      font-size: 1.5em;
      padding: 10px;
      width: 80%;
      border-radius: 12px;
      border: 2px solid #001f3f;
      text-align: center;
    }
    .order-summary {
      margin: 20px 12px;
      padding: 12px;
      border: 2px solid #001f3f;
      border-radius: 16px;
      background-color: #e0eaff;
      min-height: 120px;
    }
    .order-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 6px 0;
      border-bottom: 1px solid #ccc;
    }
    .order-item button {
      background-color: #ff4d4d;
      border: none;
      color: white;
      border-radius: 8px;
      padding: 2px 8px;
      cursor: pointer;
      margin-left: 10px;
    }
    .order-item input {
      width: 50px;
      margin-left: 10px;
      text-align: center;
      font-size: 1em;
    }
    .send-btn {
      display: block;
      width: 90%;
      margin: 20px auto;
      padding: 15px;
      font-size: 1.2em;
      background-color: #25D366;
      color: white;
      border: none;
      border-radius: 12px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <header>
    menuSpecial
  </header>
  <main>
    <div class="btn" oncontextmenu="editDish(event)" onclick="addToOrder(this)">Penne al sugo</div>
    <div class="btn" oncontextmenu="editDish(event)" onclick="addToOrder(this)">Penne Zola e noci</div>
    <div class="btn" oncontextmenu="editDish(event)" onclick="addToOrder(this)">Penne all’arrabbiata</div>
    <div class="btn" oncontextmenu="editDish(event)" onclick="addToOrder(this)">Linguine alle vongole</div>
    <div class="btn" oncontextmenu="editDish(event)" onclick="addToOrder(this)">Linguine ai frutti di mare</div>
    <div class="btn" oncontextmenu="editDish(event)" onclick="addToOrder(this)">Tagliata al rosmarino</div>
    <div class="btn" oncontextmenu="editDish(event)" onclick="addToOrder(this)">Tagliata al pepe verde</div>
    <div class="btn" oncontextmenu="editDish(event)" onclick="addToOrder(this)">Grigliata mista</div>
    <div class="btn" oncontextmenu="editDish(event)" onclick="addToOrder(this)">Patatine</div>
    <div class="btn" oncontextmenu="editDish(event)" onclick="addToOrder(this)">Anelli di cipolla</div>
    <div class="btn" oncontextmenu="editDish(event)" onclick="addToOrder(this)">Olive ascolane</div>
    <div class="btn" oncontextmenu="editDish(event)" onclick="addToOrder(this)">Cotoletta baby con patate</div>
    <div class="btn" oncontextmenu="editDish(event)" onclick="addToOrder(this)">Hamburger baby con patate</div>
    <div class="btn" oncontextmenu="editDish(event)" onclick="addToOrder(this)">Hamburger con scamorza</div>
    <div class="btn" oncontextmenu="editDish(event)" onclick="addToOrder(this)">Hamburger con verdure o patate</div>
  </main>

  <div class="table-number-container">
    <label for="table-number">Numero Tavolo</label>
    <input type="number" id="table-number" placeholder="Inserisci numero tavolo">
  </div>

  <div class="order-summary" id="order-summary">
    <strong>Comanda:</strong>
  </div>

  <button class="send-btn" onclick="sendOrder()">Invia Comanda WhatsApp</button>

  <script>
    function editDish(event) {
      event.preventDefault();
      let nuovoNome = prompt('Modifica il nome del piatto:', event.target.textContent);
      if (nuovoNome !== null && nuovoNome.trim() !== '') {
        event.target.textContent = nuovoNome;
      }
    }

    function addToOrder(button) {
      const orderSummary = document.getElementById('order-summary');
      const itemName = button.textContent;

      let quantity = prompt('Inserisci la quantità del piatto:','1');
      if (quantity === null || quantity.trim() === '' || isNaN(quantity) || parseInt(quantity) <= 0) {
        quantity = 1;
      }

      const orderItem = document.createElement('div');
      orderItem.className = 'order-item';
      orderItem.innerHTML = `${itemName} x <input type='number' value='${quantity}' min='1'> <button onclick='removeFromOrder(this)'>X</button>`;

      orderSummary.appendChild(orderItem);
    }

    function removeFromOrder(btn) {
      btn.parentElement.remove();
    }

    function sendOrder() {
      const tableNumber = document.getElementById('table-number').value;
      if (!tableNumber) {
        alert('Devi inserire il numero del tavolo prima di inviare la comanda.');
        return;
      }

      const orderItems = Array.from(document.querySelectorAll('.order-item')).map(i => {
        const name = i.querySelector('input').previousSibling.textContent.trim() || i.textContent.split(' x ')[0];
        const quantity = i.querySelector('input').value;
        return `${name} x${quantity}`;
      });

      if (orderItems.length === 0) {
        alert('La comanda è vuota. Aggiungi almeno un piatto.');
        return;
      }

      const message = encodeURIComponent('Comanda: ' + orderItems.join(', '));
      const phone = '3491167434';
      const whatsappURL = `https://wa.me/${phone}?text=${message}`;
      window.open(whatsappURL, '_blank');
    }
  </script>
</body>
</html>