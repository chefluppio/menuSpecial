<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>menuSpecial</title>
<style>
  body {
    margin: 0;
    font-family: 'BBH Sans Hegarty', sans-serif;
    background-color: #f5f5f5;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  header {
    background-color: #002b5b;
    color: white;
    width: 100%;
    text-align: center;
    padding: 20px 0;
    font-size: 26px;
    font-weight: bold;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    width: 90%;
    margin-top: 20px;
  }

  .button {
    background: linear-gradient(145deg, #003366, #001a33);
    color: white;
    padding: 20px;
    border: none;
    border-radius: 20px;
    font-size: 20px;
    text-align: center;
    box-shadow: 3px 3px 8px rgba(0,0,0,0.5), -3px -3px 8px rgba(255,255,255,0.1);
    transition: transform 0.2s, box-shadow 0.2s;
  }

  .button:active {
    transform: scale(0.95);
    box-shadow: inset 3px 3px 8px rgba(0,0,0,0.6);
  }

  #tableNumberContainer {
    margin-top: 25px;
    text-align: center;
  }

  #tableNumber {
    font-size: 24px;
    width: 80%;
    padding: 10px;
    border: 2px solid #002b5b;
    border-radius: 10px;
    text-align: center;
  }

  #orderList {
    margin-top: 25px;
    width: 90%;
    background: #ffffff;
    border-radius: 15px;
    padding: 10px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  }

  #orderList h3 {
    text-align: center;
    color: #002b5b;
  }

  .order-item {
    display: flex;
    justify-content: space-between;
    margin: 5px 0;
  }

  /* Pulsante WhatsApp largo */
  #sendOrder {
    margin-top: 30px;
    width: 90%;
    max-width: 500px;
    background-color: #25D366;
    color: white;
    border: none;
    padding: 20px;
    border-radius: 20px;
    font-size: 22px;
    font-weight: bold;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    box-shadow: 0 6px 12px rgba(0,0,0,0.3);
    transition: background-color 0.3s, transform 0.2s, box-shadow 0.2s;
  }

  #sendOrder:hover {
    background-color: #1EBE5C;
    transform: scale(1.03);
    box-shadow: 0 8px 15px rgba(0,0,0,0.4);
  }

  #sendOrder:active {
    transform: scale(0.97);
    background-color: #1a8d49;
  }

  #sendOrder svg {
    width: 28px;
    height: 28px;
    fill: white;
  }
</style>
</head>
<body>

<header>menuSpecial</header>

<div class="grid" id="buttonGrid">
  <button class="button">Penne al sugo</button>
  <button class="button">Penne Zola e noci</button>
  <button class="button">Penne allâ€™arrabbiata</button>
  <button class="button">Linguine alle vongole</button>
  <button class="button">Linguine ai frutti di mare</button>
  <button class="button">Tagliata al rosmarino</button>
  <button class="button">Tagliata al pepe verde</button>
  <button class="button">Grigliata mista</button>
  <button class="button">Patatine</button>
  <button class="button">Anelli di cipolla</button>
  <button class="button">Olive ascolane</button>
  <button class="button">Cotoletta baby con patate</button>
  <button class="button">Hamburger baby con patate</button>
  <button class="button">Hamburger con scamorza</button>
  <button class="button">Hamburger con verdure o patate</button>
</div>

<div id="tableNumberContainer">
  <label for="tableNumber">Numero Tavolo:</label><br>
  <input type="number" id="tableNumber" placeholder="Inserisci numero tavolo">
</div>

<div id="orderList">
  <h3>Comanda</h3>
  <div id="orders"></div>
</div>

<button id="sendOrder">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
    <path d="M16.001 3C9.373 3 4 8.373 4 15c0 2.64.857 5.08 2.32 7.076L5 29l7.12-2.32A11.96 11.96 0 0 0 16.001 27c6.627 0 12-5.373 12-12S22.628 3 16.001 3zm0 21.7a9.63 9.63 0 0 1-5.07-1.4l-.36-.22-4.21 1.37 1.38-4.09-.24-.37A9.63 9.63 0 0 1 6.4 15c0-5.31 4.29-9.6 9.6-9.6s9.6 4.29 9.6 9.6-4.29 9.7-9.6 9.7zm5.31-7.26c-.29-.15-1.7-.84-1.96-.93-.26-.1-.45-.15-.64.15s-.74.93-.9 1.12-.33.22-.62.07-1.2-.44-2.29-1.4c-.85-.76-1.42-1.7-1.59-1.98-.16-.29-.02-.44.12-.59.12-.12.29-.33.44-.5.15-.17.2-.29.29-.48.1-.19.05-.36-.02-.51-.07-.15-.64-1.54-.88-2.12-.23-.56-.47-.49-.64-.5h-.54c-.19 0-.5.07-.76.36s-1 1-.99 2.43 1.02 2.81 1.17 3c.15.19 2 3.07 4.88 4.3 1.82.79 2.53.86 3.43.72.55-.08 1.7-.7 1.94-1.37.24-.68.24-1.26.17-1.38-.07-.12-.26-.19-.55-.33z"/>
  </svg>
  Invia ordine
</button>

<script>
  const buttons = document.querySelectorAll('.button');
  const ordersDiv = document.getElementById('orders');
  const tableInput = document.getElementById('tableNumber');
  const sendButton = document.getElementById('sendOrder');
  let orders = [];

  buttons.forEach(button => {
    button.addEventListener('click', () => {
      const existingOrder = orders.find(o => o.name === button.textContent);
      if (existingOrder) {
        existingOrder.qty++;
      } else {
        orders.push({ name: button.textContent, qty: 1 });
      }
      renderOrders();
    });

    button.addEventListener('contextmenu', (e) => {
      e.preventDefault();
      const newName = prompt("Modifica nome del piatto:", button.textContent);
      if (newName) button.textContent = newName;
    });
  });

  function renderOrders() {
    ordersDiv.innerHTML = '';
    orders.forEach((o, index) => {
      const div = document.createElement('div');
      div.className = 'order-item';
      div.innerHTML = `
        ${o.name} x${o.qty}
        <div>
          <button onclick="decrease(${index})">-</button>
          <button onclick="increase(${index})">+</button>
          <button onclick="removeOrder(${index})">x</button>
        </div>
      `;
      ordersDiv.appendChild(div);
    });
  }

  function decrease(i) {
    if (orders[i].qty > 1) {
      orders[i].qty--;
    } else {
      orders.splice(i, 1);
    }
    renderOrders();
  }

  function increase(i) {
    orders[i].qty++;
    renderOrders();
  }

  function removeOrder(i) {
    orders.splice(i, 1);
    renderOrders();
  }

  sendButton.addEventListener('click', () => {
    const tableNumber = tableInput.value.trim();
    if (!tableNumber) {
      alert("Inserisci il numero del tavolo prima di inviare l'ordine!");
      return;
    }
    if (orders.length === 0) {
      alert("Nessun piatto selezionato!");
      return;
    }

    const orderText = orders.map(o => `${o.name} x${o.qty}`).join('\n');
    const message = `Ordine tavolo ${tableNumber}:\n${orderText}`;
    const phoneNumber = '3491167434';
    const whatsappURL = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
    window.open(whatsappURL, '_blank');
  });
</script>

</body>
</html>
